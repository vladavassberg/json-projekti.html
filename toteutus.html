<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON-datan käsittelyä</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">

</head>
<body class="d-flex flex-column min-vh-100">
    <nav class="navbar navbar-expand-lg navbar-custom">
  <div class="container-fluid">
  
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="index.html">Etusivu</a></li>
        <li class="nav-item"><a class="nav-link" href="toteutus.html">Digipalvelut</a></li>
        <li class="nav-item"><a class="nav-link" href="pokehaku.html">Pokemon haku</a></li>
        <li class="nav-item"><a class="nav-link" href="weather.html">Säätiedot</a></li>
      </ul>
    </div>
  </div>
</nav>

<main class="flex-fill">
  <section class="container my-5">
  <div id="json-content"></div>
  </section>
</main>

<footer class="mt-auto">
  <p class="text-center">Digipalvelut</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script>
  fetch('toteutus.json')
    .then(response => {
      if (!response.ok) throw new Error("Verkkovirhe " + response.status);
      return response.json();
    })
    .then(data => naytaToteutus(data))
    .catch(error => {
      document.getElementById("toteutus-content").innerHTML = "<p>Tietoja ei pystytä hakemaan.</p>";
      console.error("Virhe JSON-haussa:", error);
    });

  function naytaToteutus(obj) {
    let content = `
      <h3>${obj.nimi}</h3>
      <p><b>Osallistujien lukumäärä:</b> ${obj.osallistujat_lkm}</p>
      <p><b>Osallistujat:</b> ${obj.osallistujat.join(", ")}</p>
      <p><b>Alkamispäivä:</b> ${obj.alkamis} <br> <b>Loppumispäivä:</b> ${obj.loppumis}</p>
      <p><b>Kesto viikkoina:</b> ${obj.kesto_viikkoina}</p>
      <p><img src="${obj.kuva}" alt="Toteutuksen kuva" style="max-width:300px; border-radius:8px;"></p>
    `;
    document.getElementById("json-content").innerHTML = content;
  }
</script>

</body>
</html>